---
// Filename: Card.astro
interface Props {
	title?: string;
	subtitle?: string | null;
	showSubtitle?: boolean;
	description?: string;
	classes?: string; // Prop para clases adicionales
}

const {
	title,
	subtitle,
	showSubtitle = false,
	description,
	classes,
} = Astro.props;
---

<article class:list={["Article", classes]}>
	<header class="Article-header">
		<h2 class="Article-header__title">{title}</h2>
		{
			showSubtitle && subtitle && (
				<span class="Article-header__auxiliar">{subtitle}</span>
			)
		}
	</header>
	<div class="Article-description">
		<div class="Article-description__inner">
			<p>{description}</p>
		</div>
		<slot />
	</div>
</article>

<style lang="scss">
	.Article {
		padding: var(--size-5);
		border: solid 3px var(--border-strokes-color);
		border-radius: var(--border-radius-sm);
		display: flex;
		flex-flow: column nowrap;
		gap: var(--size-6);
		position: relative;
		margin-top: 1rem;

		&-header {
			margin-top: -40px;
			position: relative;
			cursor: pointer;
			height: 40px;

			&__title {
				background-color: var(--primary-color);
				color: white;
				width: fit-content;
				border-radius: var(--border-radius-md);
				padding-block: var(--size-2);
				padding-inline: var(--size-10);
				font-size: var(--size-4);
				text-transform: uppercase;
				position: absolute;
				z-index: 2;
				box-shadow:
					rgb(99, 99, 99) 1px 0 4px;
				font-weight: 700;

				@media (max-width: 440px) {
					font-size: var(--size-2);
				}
			}
			&__auxiliar {
				background-color: var(--subtitle-background-color);
				position: absolute;
				color: white;
				bottom: 18px;
				margin-left: 88px;
				border-radius: var(--border-radius-md);
				font-size: var(--size-4);
				padding: 4px 1rem 3px 7rem;
				font-style: italic;

				@media (max-width: 440px) {
					font-size: var(--size-3);
					margin-left: 60px;
					top: 12px;
				}
			}
		}

		&-description {
			overflow: hidden;
			transition: max-height 0.3s ease-out;
			display: grid;
			gap: 0.5rem;

			&__inner {
				// padding-top: 2.3rem;
				display: flex;
				flex-flow: column nowrap;
				gap: var(--size-4);
			}
		}

		&.active .Article-description {
			max-height: 1000px;
		}
	}
</style>
